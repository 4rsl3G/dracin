<%
  const theaters = Array.isArray(data?.theaters) ? data.theaters : [];
  const error = data?.error;
%>

<section class="ps-hero" data-aos="fade-up">
  <div class="ps-hero-bg"></div>
  <div class="ps-hero-inner">
    <div class="ps-hero-kicker" data-aos="zoom-in" data-aos-delay="80">
      <i class="ri-movie-2-fill"></i>
      <span>Streaming sinematik</span>
    </div>

    <h1 class="ps-hero-title ps-glow-title" data-aos="fade-up" data-aos-delay="120">PANSTREAM</h1>

    <p class="ps-hero-sub" data-aos="fade-up" data-aos-delay="180">
      UI/UX premium, player portrait, browsing mulus, dan search realtime.
    </p>

    <div class="ps-hero-actions" data-aos="fade-up" data-aos-delay="240">
      <a class="ps-btn ps-btn-accent" href="/browse">
        <i class="ri-compass-3-fill"></i>
        <span>Mulai Browse</span>
      </a>
      <button class="ps-btn ps-btn-ghost" id="psOpenSearch2">
        <i class="ri-search-line"></i>
        <span>Cari Serial</span>
      </button>
    </div>

    <div class="ps-scrollhint" aria-hidden="true" data-aos="fade-up" data-aos-delay="320">
      <span class="ps-scrollhint-dot"></span>
      <span class="ps-scrollhint-text">Scroll untuk lihat koleksi</span>
    </div>
  </div>
</section>

<% if (error) { %>
  <div class="ps-alert" data-aos="fade-up"><%= error %></div>
<% } %>

<div class="ps-content">
  <% theaters.forEach((row, idx) => { %>
    <div data-aos="fade-up" data-aos-delay="<%= Math.min(120, idx * 40) %>">
      <%- include('./components/row.ejs', { row }) %>
    </div>
  <% }) %>

  <% if (!theaters.length) { %>
    <div class="ps-empty-block" data-aos="fade-up">
      <div class="ps-empty-title">Tidak ada konten untuk ditampilkan.</div>
      <div class="ps-empty-sub">Coba lagi beberapa saat.</div>
    </div>
  <% } %>
</div>

<script>
  (function(){
    const btn = document.getElementById('psOpenSearch2');
    if (btn) btn.addEventListener('click', () => {
      const open = document.getElementById('psOpenSearch');
      if (open) open.click();
    });
  })();
</script>
